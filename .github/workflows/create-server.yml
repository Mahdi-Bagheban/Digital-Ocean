# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                  ğŸš€ DigitalOcean Server Creation Workflow                  â•‘
# â•‘                                                                            â•‘
# â•‘  Purpose:  Ø®ÙˆØ¯Ú©Ø§Ø±â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø±ÙˆØ±â€ŒÙ‡Ø§ÛŒ DigitalOcean         â•‘
# â•‘  Version:  5.0 (Production Ready)                                         â•‘
# â•‘  Author:   Mahdi Bagheban                                                 â•‘
# â•‘  Updated:  December 2025                                                  â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

name: ğŸš€ Create DigitalOcean Server

on:
  workflow_dispatch:
    inputs:
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # ğŸ“‹ Ù†Ø§Ù… Ùˆ Ø´Ù†Ø§Ø³Ù‡ Ø³Ø±ÙˆØ±
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      server_name:
        description: 'ğŸ“ Ù†Ø§Ù… Ø³Ø±ÙˆØ± | Server Name'
        required: true
        default: 'mahdi-dev-workspace-64gb'
        type: string

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # ğŸŒ Ù…Ù†Ø·Ù‚Ù‡ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      region:
        description: 'ğŸŒ Ù…Ù†Ø·Ù‚Ù‡ | Region'
        required: true
        default: 'fra1'
        type: choice
        options:
          - fra1    # ğŸ‡©ğŸ‡ª Frankfurt, Germany
          - ams3    # ğŸ‡³ğŸ‡± Amsterdam, Netherlands  
          - lon1    # ğŸ‡¬ğŸ‡§ London, UK
          - nyc1    # ğŸ‡ºğŸ‡¸ New York, USA
          - sfo3    # ğŸ‡ºğŸ‡¸ San Francisco, USA
          - sgp1    # ğŸ‡¸ğŸ‡¬ Singapore

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # ğŸ’ª Ù¾Ù„Ù† Ùˆ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø³Ø±ÙˆØ±
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      size_slug:
        description: 'ğŸ’ª Ù¾Ù„Ù† Ø³Ø±ÙˆØ± | Server Plan'
        required: true
      default: 's-4vcpu-8gb'  # 4 vCPU, 8GB RAM - Standard plan (Available for all accounts)        type: choice
        options:
          # ğŸ§ª Testing Plans (Ø§Ø±Ø²Ø§Ù†â€ŒØªØ±ÛŒ)
          - s-2vcpu-4gb      # 2 vCPU, 4GB RAM, 80GB SSD
          - s-4vcpu-8gb      # 4 vCPU, 8GB RAM, 160GB SSD
          
          # ğŸ¯ Standard Plans (Ù…ØªÙˆØ§Ø²Ù†)
          - s-4vcpu-8gb     # 8 vCPU, 64GB RAM, 200GB SSD â­ RECOMMENDED
          - m-16vcpu-128gb   # 16 vCPU, 128GB RAM, 400GB SSD
          - m-24vcpu-192gb   # 24 vCPU, 192GB RAM, 600GB SSD
          - m-32vcpu-256gb   # 32 vCPU, 256GB RAM, 800GB SSD
          
          # ğŸ”´ CPU-Optimized Plans (Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø³Ù†Ú¯ÛŒÙ†)
          - c-16             # 16 vCPU (High Frequency), 64GB RAM
          - c-32             # 32 vCPU (High Frequency), 128GB RAM
          
          # ğŸ”µ Memory-Optimized Plans (Ø¨Ø±Ø§ÛŒ database)
          - r-2vcpu-16gb     # 2 vCPU, 16GB RAM
          - r-4vcpu-32gb     # 4 vCPU, 32GB RAM

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # ğŸŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø´Ø¨Ú©Ù‡
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      enable_ipv6:
        description: 'ğŸŒ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ IPv6 | Enable IPv6'
        required: false
        default: 'true'
        type: choice
        options:
          - 'true'
          - 'false'

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # ğŸ’¾ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      enable_backups:
        description: 'ğŸ’¾ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù†ÛŒØ±Ø¨Ù‡ | Enable Backups (Extra Cost)'
        required: false
        default: 'false'
        type: choice
        options:
          - 'true'
          - 'false'

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # ğŸ·ï¸ Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      custom_tags:
        description: 'ğŸ·ï¸ Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ | Custom Tags (comma-separated)'
        required: false
        default: 'github-actions,development,high-performance'
        type: string

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ”„ Job Definition
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
jobs:
  create-server:
    name: ğŸ—ï¸ Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø±ÙˆØ± | Create Server
    runs-on: ubuntu-latest
    timeout-minutes: 30
    
    outputs:
      droplet_id: ${{ steps.create_droplet.outputs.droplet_id }}
      server_ip: ${{ steps.server_info.outputs.ipv4 }}
      server_ipv6: ${{ steps.server_info.outputs.ipv6 }}
      region: ${{ steps.server_info.outputs.region }}
      plan: ${{ github.event.inputs.size_slug }}

    steps:
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 1: Checkout Ú©Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ø¯ | Checkout Code
        uses: actions/checkout@v4
        with:
          fetch-depth: 1

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 2: Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ”§ Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ | Install Dependencies
        timeout-minutes: 5
        run: |
          echo "ğŸ“¦ Ø¯Ø± Ø­Ø§Ù„ Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§..."
          sudo apt-get update -qq 2>/dev/null
          sudo apt-get install -y jq curl bc 2>/dev/null
          
          echo "âœ… ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ Ù†ØµØ¨ Ø´Ø¯Ù†Ø¯:"
          echo "  â€¢ jq $(jq --version)"
          echo "  â€¢ curl $(curl --version | head -n1)"
          echo "  â€¢ bc installed"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 3: Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Secrets
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ” Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Secrets | Validate Secrets
        timeout-minutes: 2
        run: |
          echo "ğŸ” Ø¨Ø±Ø±Ø³ÛŒ Secrets Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²..."
          
          if [ -z "${{ secrets.DO_API_TOKEN }}" ]; then
            echo "âŒ Ø®Ø·Ø§: DO_API_TOKEN ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª!"
            echo "ğŸ“Œ Ù„Ø·ÙØ§ Ø¯Ø± Settings > Secrets > Actions Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯."
            exit 1
          fi
          
          if [ -z "${{ secrets.SSH_KEY_NAME }}" ]; then
            echo "âŒ Ø®Ø·Ø§: SSH_KEY_NAME ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª!"
            exit 1
          fi
          
          echo "âœ… ØªÙ…Ø§Ù… Secrets Ù…ÙˆØ¬ÙˆØ¯ Ù‡Ø³ØªÙ†Ø¯"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 4: Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: âœ”ï¸ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ | Validate Inputs
        timeout-minutes: 2
        run: |
          echo "ğŸ” Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ..."
          
          # Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø§Ù… Ø³Ø±ÙˆØ±
          if [ -z "${{ github.event.inputs.server_name }}" ]; then
            echo "âŒ Ù†Ø§Ù… Ø³Ø±ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª!"
            exit 1
          fi
          
          # Ø¨Ø±Ø±Ø³ÛŒ Ù…Ù†Ø·Ù‚Ù‡
          VALID_REGIONS="fra1|ams3|lon1|nyc1|sfo3|sgp1"
          if ! [[ "${{ github.event.inputs.region }}" =~ $VALID_REGIONS ]]; then
            echo "âŒ Ù…Ù†Ø·Ù‚Ù‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: ${{ github.event.inputs.region }}"
            echo "âœ… Ù…Ù†Ø§Ø·Ù‚ Ù…Ø¹ØªØ¨Ø±: fra1, ams3, lon1, nyc1, sfo3, sgp1"
            exit 1
          fi
          
          # Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù„Ù†
          VALID_PLANS="s-2vcpu-4gb|s-4vcpu-8gb|s-4vcpu-8gb|m-16vcpu-128gb|m-24vcpu-192gb|m-32vcpu-256gb|c-16|c-32|r-2vcpu-16gb|r-4vcpu-32gb"
          if ! [[ "${{ github.event.inputs.size_slug }}" =~ $VALID_PLANS ]]; then
            echo "âŒ Ù¾Ù„Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø±: ${{ github.event.inputs.size_slug }}"
            exit 1
          fi
          
          echo "âœ… ØªÙ…Ø§Ù… ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ Ù…Ø¹ØªØ¨Ø± Ù‡Ø³ØªÙ†Ø¯"
          echo ""
          echo "ğŸ“‹ Ø®Ù„Ø§ØµÙ‡ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§:"
          echo "  ğŸ“ Ù†Ø§Ù… Ø³Ø±ÙˆØ±: ${{ github.event.inputs.server_name }}"
          echo "  ğŸŒ Ù…Ù†Ø·Ù‚Ù‡: ${{ github.event.inputs.region }}"
          echo "  ğŸ’ª Ù¾Ù„Ù†: ${{ github.event.inputs.size_slug }}"
          echo "  ğŸŒ IPv6: ${{ github.event.inputs.enable_ipv6 }}"
          echo "  ğŸ’¾ Backups: ${{ github.event.inputs.enable_backups }}"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 5: Ø¯Ø±ÛŒØ§ÙØª SSH Key ID
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ”‘ Ø¯Ø±ÛŒØ§ÙØª SSH Key ID | Get SSH Key ID
        id: ssh_key
        timeout-minutes: 3
        run: |
          echo "ğŸ” Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø±Ø§ÛŒ SSH Key: ${{ secrets.SSH_KEY_NAME }}"
          
          # ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ (retry) Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ± Ø¨ÙˆØ¯Ù† Ù¾Ø§ÛŒØ§ÛŒÛŒ
          for attempt in {1..3}; do
            echo "  ØªÙ„Ø§Ø´ $attempt/3..."
            response=$(curl -s -f -X GET \
              -H "Authorization: Bearer ${{ secrets.DO_API_TOKEN }}" \
              -H "Content-Type: application/json" \
              "https://api.digitalocean.com/v2/account/keys" 2>/dev/null) && break
            
            if [ $attempt -lt 3 ]; then
              echo "  â³ Ù…Ù†ØªØ¸Ø± 5 Ø«Ø§Ù†ÛŒÙ‡ Ù‚Ø¨Ù„ Ø§Ø² ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯..."
              sleep 5
            fi
          done
          
          if [ -z "$response" ]; then
            echo "âŒ Ø®Ø·Ø§: Ù†ØªÙˆØ§Ù†Ø³ØªÙ… Ø¨Ù‡ API DigitalOcean Ù…ØªØµÙ„ Ø´ÙˆÙ…"
            exit 1
          fi
          
          ssh_key_id=$(echo "$response" | jq -r ".ssh_keys[] | select(.name==\"${{ secrets.SSH_KEY_NAME }}\") | .id" 2>/dev/null)
          
          if [ -z "$ssh_key_id" ] || [ "$ssh_key_id" = "null" ]; then
            echo "âŒ SSH Key '${{ secrets.SSH_KEY_NAME }}' ÛŒØ§ÙØª Ù†Ø´Ø¯!"
            echo ""
            echo "ğŸ“‹ Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ SSH Ù…ÙˆØ¬ÙˆØ¯:"
            echo "$response" | jq -r '.ssh_keys[] | "  - \\(.name) (ID: \\(.id))"' 2>/dev/null || echo "  (Ù†ØªÙˆØ§Ù†Ø³ØªÙ… Ù„ÛŒØ³Øª Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡Ù…)"
            exit 1
          fi
          
          echo "âœ… SSH Key Ù¾ÛŒØ¯Ø§ Ø´Ø¯: $ssh_key_id"
          echo "ssh_key_id=$ssh_key_id" >> $GITHUB_OUTPUT

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 6: Ø§ÛŒØ¬Ø§Ø¯ Droplet
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ—ï¸ Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø±ÙˆØ± | Create Droplet
        id: create_droplet
        timeout-minutes: 5
        run: |
          echo "ğŸ—ï¸ Ø¯Ø± Ø­Ø§Ù„ Ø§ÛŒØ¬Ø§Ø¯ Droplet..."
          echo ""
          echo "ğŸ“‹ Ù…Ø´Ø®ØµØ§Øª:"
          echo "  ğŸ“ Ù†Ø§Ù…: ${{ github.event.inputs.server_name }}"
          echo "  ğŸŒ Ù…Ù†Ø·Ù‚Ù‡: ${{ github.event.inputs.region }}"
          echo "  ğŸ’ª Ù¾Ù„Ù†: ${{ github.event.inputs.size_slug }}"
          echo "  ğŸŒ IPv6: ${{ github.event.inputs.enable_ipv6 }}"
          echo "  ğŸ’¾ Backups: ${{ github.event.inputs.enable_backups }}"
          echo ""
          
          # Ø§ÛŒØ¬Ø§Ø¯ JSON payload
          read -r -d '' PAYLOAD << 'EOF' || true
          {
            "name": "${{ github.event.inputs.server_name }}",
            "region": "${{ github.event.inputs.region }}",
            "size": "${{ github.event.inputs.size_slug }}",
            "image": "ubuntu-24-04-x64",
            "ssh_keys": [${{ steps.ssh_key.outputs.ssh_key_id }}],
            "backups": ${{ github.event.inputs.enable_backups }},
            "ipv6": ${{ github.event.inputs.enable_ipv6 }},
            "monitoring": true,
            "tags": ["github-actions", "${{ github.event.inputs.custom_tags }}"]
          }
          EOF
          
          # ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Droplet
          for attempt in {1..3}; do
            echo "ğŸ”„ ØªÙ„Ø§Ø´ $attempt/3 Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Droplet..."
            
            response=$(curl -s -w "\n%{http_code}" -X POST \
              -H "Authorization: Bearer ${{ secrets.DO_API_TOKEN }}" \
              -H "Content-Type: application/json" \
              -d "$PAYLOAD" \
              "https://api.digitalocean.com/v2/droplets" 2>/dev/null)
            
            http_code=$(echo "$response" | tail -n1)
            body=$(echo "$response" | sed '$d')
            
            if [[ "$http_code" =~ ^(200|201|202)$ ]]; then
              echo "âœ… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ (HTTP $http_code)"
              echo "$body" | tee /tmp/droplet_response.json > /dev/null
              break
            elif [ $attempt -lt 3 ]; then
              echo "â³ Ø®Ø·Ø§ (HTTP $http_code)ØŒ ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ø¯Ø± 10 Ø«Ø§Ù†ÛŒÙ‡..."
              sleep 10
            else
              echo "âŒ Ø®Ø·Ø§: Ù†ØªÙˆØ§Ù†Ø³ØªÙ… Droplet Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ù… (HTTP $http_code)"
              echo "$body" | jq '.' 2>/dev/null || echo "$body"
              exit 1
            fi
          done
          
          # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Droplet ID
          droplet_id=$(jq -r '.droplet.id' /tmp/droplet_response.json 2>/dev/null)
          
          if [ -z "$droplet_id" ] || [ "$droplet_id" = "null" ]; then
            echo "âŒ Ø®Ø·Ø§: Ù†ØªÙˆØ§Ù†Ø³ØªÙ… Droplet ID Ø±Ø§ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù†Ù…"
            exit 1
          fi
          
          echo "âœ… Droplet Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯ (ID: $droplet_id)"
          echo "droplet_id=$droplet_id" >> $GITHUB_OUTPUT

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 7: Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„â€ŒØ´Ø¯Ù† Ø³Ø±ÙˆØ±
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: â³ Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯Ù† | Wait for Server
        id: wait_active
        timeout-minutes: 15
        run: |
          droplet_id="${{ steps.create_droplet.outputs.droplet_id }}"
          echo "â³ Ù…Ù†ØªØ¸Ø± Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯Ù† Droplet (ID: $droplet_id)..."
          echo ""
          
          max_attempts=90
          attempt=0
          status="new"
          
          while [ "$status" != "active" ] && [ $attempt -lt $max_attempts ]; do
            sleep 5
            attempt=$((attempt + 1))
            
            response=$(curl -s -f -X GET \
              -H "Authorization: Bearer ${{ secrets.DO_API_TOKEN }}" \
              "https://api.digitalocean.com/v2/droplets/$droplet_id" 2>/dev/null)
            
            if [ $? -ne 0 ]; then
              echo "âš ï¸ Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª ÙˆØ¶Ø¹ÛŒØªØŒ ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯..."
              continue
            fi
            
            status=$(echo "$response" | jq -r '.droplet.status' 2>/dev/null)
            progress=$((attempt * 100 / max_attempts))
            
            # Ù†Ù…Ø§ÛŒØ´ progress bar
            bar_length=30
            filled=$((progress * bar_length / 100))
            empty=$((bar_length - filled))
            bar="[$(printf '%*s' $filled | tr ' ' '=')-$(printf '%*s' $empty | tr ' ' '-')]"
            
            printf "\râ³ ÙˆØ¶Ø¹ÛŒØª: %-8s | %s %3d%% | %d/%d Ø«Ø§Ù†ÛŒÙ‡" "$status" "$bar" "$progress" "$((attempt * 5))" "$((max_attempts * 5))"
          done
          
          echo ""
          echo ""
          
          if [ "$status" = "active" ]; then
            echo "âœ… Droplet Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯ (Ø¯Ø± $((attempt * 5)) Ø«Ø§Ù†ÛŒÙ‡)"
          else
            echo "âŒ Droplet Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ Ø¢Ù…Ø§Ø¯Ù‡ Ù†Ø´Ø¯ (ÙˆØ¶Ø¹ÛŒØª: $status)"
            exit 1
          fi

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 8: Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ±
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“Š Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ± | Get Server Info
        id: server_info
        timeout-minutes: 3
        run: |
          droplet_id="${{ steps.create_droplet.outputs.droplet_id }}"
          echo "ğŸ“Š Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ±..."
          
          response=$(curl -s -f -X GET \
            -H "Authorization: Bearer ${{ secrets.DO_API_TOKEN }}" \
            "https://api.digitalocean.com/v2/droplets/$droplet_id" 2>/dev/null)
          
          if [ $? -ne 0 ]; then
            echo "âŒ Ø®Ø·Ø§: Ù†ØªÙˆØ§Ù†Ø³ØªÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ± Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†Ù…"
            exit 1
          fi
          
          ipv4=$(echo "$response" | jq -r '.droplet.networks.v4[] | select(.type=="public") | .ip_address' 2>/dev/null)
          ipv6=$(echo "$response" | jq -r '.droplet.networks.v6[] | select(.type=="public") | .ip_address' 2>/dev/null)
          region=$(echo "$response" | jq -r '.droplet.region.slug' 2>/dev/null)
          memory=$(echo "$response" | jq -r '.droplet.memory' 2>/dev/null)
          vcpus=$(echo "$response" | jq -r '.droplet.vcpus' 2>/dev/null)
          disk=$(echo "$response" | jq -r '.droplet.disk' 2>/dev/null)
          
          if [ -z "$ipv4" ] || [ "$ipv4" = "null" ]; then
            echo "âŒ Ø®Ø·Ø§: Ù†ØªÙˆØ§Ù†Ø³ØªÙ… IP Address Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†Ù…"
            exit 1
          fi
          
          echo "ipv4=$ipv4" >> $GITHUB_OUTPUT
          echo "ipv6=$ipv6" >> $GITHUB_OUTPUT
          echo "region=$region" >> $GITHUB_OUTPUT
          echo "memory=$memory" >> $GITHUB_OUTPUT
          echo "vcpus=$vcpus" >> $GITHUB_OUTPUT
          echo "disk=$disk" >> $GITHUB_OUTPUT
          
          # Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ artifacts
          echo "$droplet_id" > .droplet_id
          echo "$ipv4" > .droplet_ip
          echo "$ipv6" > .droplet_ipv6
          echo "$(date -u +%Y-%m-%dT%H:%M:%SZ)" > .droplet_created_at
          
          echo "âœ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯Ù†Ø¯"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 9: Health Check
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ¥ Health Check | Verify Server
        timeout-minutes: 5
        run: |
          server_ip="${{ steps.server_info.outputs.ipv4 }}"
          echo "ğŸ¥ Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø±ÙˆØ± (IP: $server_ip)..."
          echo ""
          
          # ØªÙ„Ø§Ø´ Ø§ØªØµØ§Ù„ SSH
          echo "ğŸ”Œ Ø¨Ø±Ø±Ø³ÛŒ Ù¾ÙˆØ±Øª 22 (SSH)..."
          for attempt in {1..10}; do
            if timeout 5 bash -c "cat < /dev/null > /dev/tcp/$server_ip/22" 2>/dev/null; then
              echo "âœ… Ù¾ÙˆØ±Øª 22 Ø¨Ø§Ø² Ø§Ø³Øª"
              break
            fi
            if [ $attempt -lt 10 ]; then
              echo "  â³ ØªÙ„Ø§Ø´ $attempt/10ØŒ Ù…Ù†ØªØ¸Ø± 3 Ø«Ø§Ù†ÛŒÙ‡..."
              sleep 3
            else
              echo "âš ï¸ Ù¾ÙˆØ±Øª 22 Ù‡Ù†ÙˆØ² Ø¨Ø§Ø² Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª (Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ø¹Ø¯ Ø¨Ø§Ø² Ø´ÙˆØ¯)"
            fi
          done
          
          echo "âœ… Health Check ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 10: Ø°Ø®ÛŒØ±Ù‡ artifacts
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª | Save Artifacts
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: server-info-${{ steps.create_droplet.outputs.droplet_id }}
          path: |
            .droplet_id
            .droplet_ip
            .droplet_ipv6
            .droplet_created_at
          retention-days: 30

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 11: Ø®Ù„Ø§ØµÙ‡ Ù†Ù‡Ø§ÛŒÛŒ
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ‰ Ø®Ù„Ø§ØµÙ‡ Ù†Ù‡Ø§ÛŒÛŒ | Final Summary
        if: success()
        run: |
          cat >> $GITHUB_STEP_SUMMARY << 'EOF'
          # ğŸ‰ Ø³Ø±ÙˆØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯!
          
          ## ğŸ“‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ±
          
          | Ù†Ø§Ù… | Ù…Ù‚Ø¯Ø§Ø± |
          |------|-------|
          | **ğŸ†” Ø´Ù†Ø§Ø³Ù‡** | `${{ steps.create_droplet.outputs.droplet_id }}` |
          | **ğŸ“ Ù†Ø§Ù…** | `${{ github.event.inputs.server_name }}` |
          | **ğŸŒ IPv4** | `${{ steps.server_info.outputs.ipv4 }}` |
          | **ğŸŒ IPv6** | `${{ steps.server_info.outputs.ipv6 }}` |
          | **ğŸŒ Ù…Ù†Ø·Ù‚Ù‡** | `${{ steps.server_info.outputs.region }}` |
          | **ğŸ’ª Ù¾Ù„Ù†** | `${{ github.event.inputs.size_slug }}` |
          | **ğŸ§  RAM** | `${{ steps.server_info.outputs.memory }}` MB |
          | **ğŸ”¥ vCPU** | `${{ steps.server_info.outputs.vcpus }}` |
          | **âš¡ Disk** | `${{ steps.server_info.outputs.disk }}` GB |
          
          ## ğŸ”— Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§ØªØµØ§Ù„
          
          ### SSH (Terminal Access)
          ```bash
          ssh root@${{ steps.server_info.outputs.ipv4 }}
          ```
          
          ### Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯ Ù†ØµØ¨
          ```bash
          ssh root@${{ steps.server_info.outputs.ipv4 }} tail -f /var/log/server-install.log
          ```
          
          ### Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ø³Ø±ÙˆØ±
          ```bash
          ssh root@${{ steps.server_info.outputs.ipv4 }} /root/server-info.sh
          ```
          
          ## âš ï¸ Ù†Ú©Ø§Øª Ù…Ù‡Ù…
          
          - â³ **Ù†ØµØ¨ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§**: Ûµ-Û²Û° Ø¯Ù‚ÛŒÙ‚Ù‡ Ø·ÙˆÙ„ Ù…ÛŒâ€ŒÚ©Ø´Ø¯
          - ğŸ’¾ **Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ±** Ø¯Ø± Artifacts Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª
          - ğŸ—‘ï¸ **Ø­Ø°Ù Ø³Ø±ÙˆØ±**: Ø§Ø² workflow "Delete Development Server" Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
          - ğŸ” **Ø§Ù…Ù†ÛŒØª**: ÙÙ‚Ø· SSH key-based authentication ÙØ¹Ø§Ù„ Ø§Ø³Øª
          
          ---
          
          **âœ¨ Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÛŒÙ… - Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯!**
          EOF

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Step 12: Ø®Ù„Ø§ØµÙ‡ Ø®Ø·Ø§
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: âŒ Ø®Ù„Ø§ØµÙ‡ Ø®Ø·Ø§ | Error Summary
        if: failure()
        run: |
          cat >> $GITHUB_STEP_SUMMARY << 'EOF'
          # âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø±ÙˆØ±
          
          ## ğŸ” Ø§Ø­ØªÙ…Ø§Ù„ÛŒ Ù…ÙˆØ§Ø±Ø¯ÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯:
          
          1. **Secrets ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡**
             - Settings > Secrets > Actions Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯
             - `DO_API_TOKEN` Ù…Ø¹ØªØ¨Ø± Ø¨Ø§Ø´Ø¯
             - `SSH_KEY_NAME` Ø¯Ø± DigitalOcean Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø´Ø¯
          
          2. **Quota ÛŒØ§ Limit**
             - Ø´Ø§ÛŒØ¯ Ø­Ø¯ Ø³Ø±ÙˆØ±â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„ ØªØ¬Ø§ÙˆØ² Ø´Ø¯Ù‡
             - ÛŒØ§ Ù…Ù†Ø·Ù‚Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ù¾Ù„Ù† Ø±Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯
          
          3. **Ù…Ø´Ú©Ù„ Ø´Ø¨Ú©Ù‡**
             - API DigitalOcean Ù…ÙˆÙ‚ØªÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„
             - Ù…Ø¬Ø¯Ø¯ Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯
          
          ---
          
          **ğŸ“‹ Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ± Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Workflow Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.**
          EOF

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                            ğŸ End of Workflow                              â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
